---
layout: post
title: Deploying Jakarta EE 9 applications to WildFly
---

<h4><a href="https://www.wildfly.org/">WildFly 22.0.0.Alph1</a> provides a standalone preview distribution for Jakarta EE 9.</h4><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*XZgar-TMaqJ9r-ovXsLz_A.png" /></figure><h3>Prerequisites</h3><p>Make sure you have installed the following software.</p><ul><li>Java 8 or Java 11</li><li>Apache Maven 3.6</li><li>WildFly 22.0.0.Alpha1 Jakarta EE 9 preview</li></ul><p>Go to the Wi<a href="https://www.wildfly.org/downloads/">ldFly Download</a> page, and make sure you are downloading the <a href="https://download.jboss.org/wildfly/22.0.0.Alpha1/wildfly-preview-22.0.0.Alpha1.zip">Jakarta EE 9 preview version</a>.</p><p><strong>Get the </strong><a href="https://github.com/hantsy/jakartaee9-starter-boilerplate"><strong>source codes</strong></a><strong> from my github.</strong></p><h3>Manual deployment</h3><p>Clone the <a href="https://github.com/hantsy/jakartaee9-starter-boilerplate">source codes</a> from my github account, and then build the project.</p><pre>mvn clean package</pre><p>When it is done, there is a <em>jakartaee9-starter-boilerplate.war</em> file packaged in the <em>target</em> folder.</p><p>Extract the WildFly files into your local disk, enter the WildFly folder, and start the WildFly server .</p><pre># cd [wildfly-preview-22.0.0.Alpha1 install dir]\bin</pre><pre># standalone.bat<br>Calling &quot;D:\appsvr\wildfly-preview-22.0.0.Alpha1\bin\standalone.conf.bat&quot;<br>Setting JAVA property to &quot;D:\jdk11\bin\java&quot;<br>===============================================================================</pre><pre>  JBoss Bootstrap Environment</pre><pre>  JBOSS_HOME: &quot;D:\appsvr\wildfly-preview-22.0.0.Alpha1&quot;</pre><pre>  JAVA: &quot;D:\jdk11\bin\java&quot;</pre><pre>  JAVA_OPTS: &quot;-client -Dprogram.name=standalone.bat -Xms64M -Xmx512M -XX:MetaspaceSize=96M -XX:MaxMetaspaceSize=256m -Djava.net.preferIPv4Stack=true -Djboss.modules.system.pkgs=org.jboss.byteman  --add-exports=java.base/sun.nio.ch=ALL-UNNAMED --add-exports=jdk.unsupported/sun.misc=ALL-UNNAMED --add-exports=jdk.unsupported/sun.reflect=ALL-UNNAMED&quot;</pre><pre>===============================================================================<br>  ...<br>  14:06:11,863 INFO  [org.jboss.as] (Controller Boot Thread) WFLYSRV0051: Admin console listening on <a href="http://127.0.0.1:9990">http://127.0.0.1:9990</a></pre><p>Here I executed the traditional batch command in Windows CMD. Please use standalone.ps1 instead when you are using a Windows PowerShell, or standalone.sh when using a Linux like terminal.</p><p>To deploy our application, just copy the war to the <em>wildfly-preview-22.0.0.Alpha1 dir/standalone/deployments</em> folder.</p><p>It will perform an deployment automatically, and generates a .deployed file to indicate the deployment status is accomplished.</p><p>To undeploy the application, just remove the war file from the <em>wildfly-preview-22.0.0.Alpha1 dir/standalone/deployments</em> folder. It will generate a .undeployed file to indicate the undeploy action is done successfully.</p><h3>Using WildFly maven plugin</h3><p>Declare a wildfly-maven-plugin configuration under build/plugins section in the project <em>pom.xml</em> file.</p><pre>&lt;plugin&gt;<br>     &lt;groupId&gt;org.wildfly.plugins&lt;/groupId&gt;<br>     &lt;artifactId&gt;wildfly-maven-plugin&lt;/artifactId&gt;<br>     &lt;version&gt;${wildfly-maven-plugin.version}&lt;/version&gt;<br> &lt;/plugin&gt;</pre><p>Simply run the following command to deploy the application to WildFly server.</p><pre>mvn clean package wildfly:run -Dwildfly.version=22.0.0.Alpha1 -Dwildfly.artifactId=wildfly-preview-dist</pre><blockquote><em>NOTE: You have to specify </em><em>wildfly-preview-dist as artifact id to pick up the Jakarta EE 9 preview version. If it is not set, it will choose </em><em>wildfly-dist which is Jakarta EE 8 compatible.</em></blockquote><p>The wildfly-maven-plugin manages lifecycle of the WildFly server here, it will try to download and prepare a copy of WildFly server for this application, and start it, and then deploy the application to the WildFly server.</p><p>If you wan to reuse the existing WildFly server in your machine, configure a jboss-as.home or jbossHome property in the plugin&#39;s configuration section.</p><pre>&lt;configuration&gt;<br>    &lt;!-- if a jboss-as.home or jboss.home property is not present, firstly it will download<br>                            a copy of wildfly distribution automatically --&gt;<br>    &lt;!-- &lt;jossHome&gt;&lt;/jbossHome&gt;--&gt;<br>    ...</pre><p>Or append a jboss-as.home parameter to run the wildfly:run goal.</p><pre>mvn clean package wildfly:run -Djboss-as.home=[ the path of wildfly-preview-22.0.0.Alpha1 install dir]</pre><p>If you wan to deploy the application to a running WildFly server, esp the WildFly server is located in a remote host. Configure hostname, port, and admin account info of the WildFly server in the configuration.</p><pre>&lt;configuration&gt;</pre><pre>    &lt;!-- To deploy a running wildfly server --&gt;<br>    &lt;hostname&gt;&lt;/hostname&gt;<br>    &lt;port&gt;&lt;/port&gt;<br>    &lt;username&gt;&lt;/username&gt;<br>    &lt;password&gt;&lt;/password&gt;<br>    ...</pre><p>Using the following command to deploy and undeploy the application.</p><pre># deploy applications<br>mvn clean package wildfly:deploy</pre><pre># undeploy <br>mvn wildfly:undeploy</pre><p>In the server log of the running WildFly server, you can see the deploy and undeploy progress like the following.</p><pre>15:07:20,568 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0001: Content added at location D:\appsvr\wildfly-preview-22.0.0.Alpha1\standalone\data\content\9b\8908496997cd79b1bfa229ef2a24107315b429\content<br>15:07:20,568 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-5) WFLYSRV0027: Starting deployment of &quot;jakartaee9-starter-boilerplate.war&quot; (runtime-name: &quot;jakartaee9-starter-boilerplate.war&quot;)<br>15:07:25,093 INFO  [org.jboss.weld.deployer] (MSC service thread 1-4) WFLYWELD0003: Processing weld deployment jakartaee9-starter-boilerplate.war<br>15:07:25,165 INFO  [io.jaegertracing.internal.JaegerTracer] (MSC service thread 1-4) No shutdown hook registered: Please call close() manually on application shutdown.<br>15:07:25,250 INFO  [io.smallrye.metrics] (MSC service thread 1-6) MicroProfile: Metrics activated (SmallRye Metrics version: 2.4.4)<br>15:07:25,438 INFO  [org.jboss.resteasy.resteasy_jaxrs.i18n] (ServerService Thread Pool -- 87) RESTEASY002225: Deploying jakarta.ws.rs.core.Application: class com.example.JaxrsActivator$Proxy$_$$_WeldClientProxy<br>15:07:25,438 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 87) WFLYUT0021: Registered web context: &#39;/jakartaee9-starter-boilerplate&#39; for server &#39;default-server&#39;<br>15:07:25,469 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0010: Deployed &quot;jakartaee9-starter-boilerplate.war&quot; (runtime-name : &quot;jakartaee9-starter-boilerplate.war&quot;)<br>15:07:36,538 INFO  [org.wildfly.extension.undertow] (ServerService Thread Pool -- 87) WFLYUT0022: Unregistered web context: &#39;/jakartaee9-starter-boilerplate&#39; from server &#39;default-server&#39;</pre><pre>// starting a undeployment<br>15:07:36,569 INFO  [org.jboss.as.server.deployment] (MSC service thread 1-1) WFLYSRV0028: Stopped deployment jakartaee9-starter-boilerplate.war (runtime-name: jakartaee9-starter-boilerplate.war) in 47ms<br>15:07:36,616 INFO  [org.jboss.as.repository] (management-handler-thread - 1) WFLYDR0002: Content removed from location D:\appsvr\wildfly-preview-22.0.0.Alpha1\standalone\data\content\9b\8908496997cd79b1bfa229ef2a24107315b429\content<br>15:07:36,616 INFO  [org.jboss.as.server] (management-handler-thread - 1) WFLYSRV0009: Undeployed &quot;jakartaee9-starter-boilerplate.war&quot; (runtime-name: &quot;jakartaee9-starter-boilerplate.war&quot;)</pre><p>For security consideration, you can configure these sensitive info, such as username , password , etc. under the server section in your local Maven settings(<em>~/.m2/settings.xml</em>), and refer it by id in the configuration.</p><pre>&lt;configuration&gt;<br>    &lt;!-- or set a wildfly.id property to add a server in settings.xml --&gt;<br>    &lt;!--&lt;id&gt;wildfly-svr&lt;/id&gt; --&gt;<br>&lt;/configuration&gt;</pre><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=e271d1403b2c" width="1" height="1" alt=""><hr><p><a href="https://itnext.io/deploying-jakarta-ee-9-applications-to-wildfly-e271d1403b2c">Deploying Jakarta EE 9 applications to WildFly</a> was originally published in <a href="https://itnext.io">ITNEXT</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>
