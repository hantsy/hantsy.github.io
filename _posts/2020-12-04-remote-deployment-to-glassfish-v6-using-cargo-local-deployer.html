---
layout: post
title: Remote Deployment to Glassfish v6 using Cargo Local Deployer
---

<figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*XZgar-TMaqJ9r-ovXsLz_A.png" /></figure><blockquote><em>This is an addition to the existing </em><a href="https://github.com/hantsy/jakartaee9-starter-boilerplate/blob/master/docs/docs/deploy-cargo.md"><em>deploying Jakarta EE 9 applications to Glassfish v6 using Cargo maven plugin</em></a><em>.</em></blockquote><p><a href="https://codehaus-cargo.github.io">Cargo maven plugin</a> 1.8.3 will include a glasfish6x <em>containerId</em> for the new Glassfish v6. In 1.8.2 or previous versions, it allows you use a JSR88 specification(Deployment) based remote deployer with a <em>runtime</em> configuration to deploy applications to a running Glassfish server.</p><p>This will stop to work when switching to use a glassfish6x container due to the changes happen in Jakarta EE 9 and Glassfish v6.</p><p>The JSR88 is removed in the further Jakarta EE 9, check the <a href="https://jakarta.ee/specifications/platform/9/jakarta-platform-spec-9.html#a2333">6.1.4. Removed Jakarta Technologies</a> section of Jakarta EE 9 specification. And the deployment-client artifact which is existed for Glassfish v5 release train is not available in Glassfish v6.</p><p>Correspondingly cargo glassfish6x container will not include a remote deployer, and you can not configure a <em>runtime</em> configuration as before. But you can use the local deployer to deploy the applications to remote servers.</p><pre>&lt;profile&gt;<br>    &lt;id&gt;glassfish-local-deployer&lt;/id&gt;<br>    &lt;properties&gt;<br>        &lt;cargo.hostname&gt;localhost&lt;/cargo.hostname&gt;<br>        &lt;cargo.servlet.port&gt;8080&lt;/cargo.servlet.port&gt;<br>        &lt;cargo.glassfish.admin.port&gt;4848&lt;/cargo.glassfish.admin.port&gt;<br>        &lt;cargo.zipUrlInstaller.downloadDir&gt;${project.build.directory}/../installs<br>        &lt;/cargo.zipUrlInstaller.downloadDir&gt;<br>    &lt;/properties&gt;</pre><pre>    &lt;build&gt;<br>        &lt;plugins&gt;<br>            &lt;plugin&gt;<br>                &lt;groupId&gt;org.codehaus.cargo&lt;/groupId&gt;<br>                &lt;artifactId&gt;cargo-maven2-plugin&lt;/artifactId&gt;<br>                &lt;configuration&gt;<br>                    &lt;container&gt;<br>                        &lt;containerId&gt;glassfish6x&lt;/containerId&gt;<br>                        &lt;zipUrlInstaller&gt;<br>                            &lt;url&gt;<br>                               <a href="https://download.eclipse.org/ee4j/glassfish/glassfish-${glassfish.version}.zip">https://download.eclipse.org/ee4j/glassfish/glassfish-${glassfish.version}.zip</a><br>                            &lt;/url&gt;<br>                            &lt;downloadDir&gt;${cargo.zipUrlInstaller.downloadDir}&lt;/downloadDir&gt;<br>                        &lt;/zipUrlInstaller&gt;<br>                        &lt;!-- or use artifactInstaller--&gt;<br>                        &lt;!--&lt;artifactInstaller&gt;<br>                                    &lt;groupId&gt;org.glassfish.main.distributions&lt;/groupId&gt;<br>                                    &lt;artifactId&gt;glassfish&lt;/artifactId&gt;<br>                                    &lt;version&gt;${glassfish.version}&lt;/version&gt;<br>                                &lt;/artifactInstaller&gt;--&gt;<br>                    &lt;/container&gt;<br>                    &lt;configuration&gt;<br>                        &lt;!-- the configuration use to deploy --&gt;<br>                        &lt;home&gt;${project.build.directory}/glassfish6x-home&lt;/home&gt;<br>                        &lt;properties&gt;<br>                            &lt;cargo.hostname&gt;${cargo.hostname}&lt;/cargo.hostname&gt;<br>                            &lt;cargo.servlet.port&gt;${cargo.servlet.port}&lt;/cargo.servlet.port&gt;<br>                            &lt;cargo.glassfish.admin.port&gt;${cargo.glassfish.admin.port}<br>                            &lt;/cargo.glassfish.admin.port&gt;<br>                            &lt;cargo.remote.username&gt;admin&lt;/cargo.remote.username&gt;<br>                            &lt;cargo.remote.password&gt;&lt;/cargo.remote.password&gt;<br>                        &lt;/properties&gt;<br>                    &lt;/configuration&gt;<br>                &lt;/configuration&gt;<br>            &lt;/plugin&gt;<br>        &lt;/plugins&gt;<br>    &lt;/build&gt;<br>&lt;/profile&gt;</pre><blockquote><em>The above configuration also work in the existing </em><em>glassfish5x containerId.</em></blockquote><p>The side effect is you have to download a copy of Glassfish dist, the local deployer uses the Glassfish built-in asadmin tooling command to perform the deployment.</p><blockquote><em>NOTE: The </em><em>cargo.hostname is the hostname/address of the target Glassfish server to deploy.</em></blockquote><p>Execute the following command to package and deploy the application to the target server.</p><pre>mvn clean package cargo:deploy -Pglassfish-local-deployer</pre><p>To undeploy the application, execute the following command.</p><pre>mvn  cargo:undeploy -Pglassfish-local-deployer</pre><p>Check the Cargo official guide for <a href="https://codehaus-cargo.github.io/cargo/Remote+deployments+to+GlassFish+6.x.html">the instructions of Remote Deployment to Glassfish v6</a> and <a href="https://codehaus-cargo.github.io/cargo/GlassFish+6.x.html">the changes of Cargo glassfish6x containerid</a>.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=65983c12aba7" width="1" height="1" alt=""><hr><p><a href="https://itnext.io/remote-deployment-to-glassfish-v6-using-cargo-local-deployer-65983c12aba7">Remote Deployment to Glassfish v6 using Cargo Local Deployer</a> was originally published in <a href="https://itnext.io">ITNEXT</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>
