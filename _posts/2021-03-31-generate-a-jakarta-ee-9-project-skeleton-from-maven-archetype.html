---
layout: post
title: Generate a Jakarta EE 9 project skeleton from Maven archetype
---

<p>I have created a <a href="https://github.com/hantsy/jakartaee9-starter-boilerplate">jakartaee9-starter-boilerplate</a> repository for developers to build a Jakarta EE 9 project. You can read the <a href="https://hantsy.github.io/jakartaee9-starter-boilerplate/">articles</a> I have written for the codes.</p><figure><img alt="" src="https://cdn-images-1.medium.com/max/1024/1*BkNgp-HHZ-V67odtcC-CaQ.jpeg" /><figcaption>The image is from <a href="https://unsplash.com/photos/RDW22bbsN0Y">https://unsplash.com/photos/RDW22bbsN0Y</a></figcaption></figure><p>I shared this project in the official Jakarta EE community mail list, and got that <a href="https://github.com/eclipse-ee4j/starter">Eclipse EE4J starter</a> project planned to provide a custom starter template for Jakarta EE 9. I was suggested to create a Maven archetype as a start point to share my work in the starter project. So I created <a href="https://github.com/hantsy/maven-archetype-jakartaee9">another Maven archetype for Jakarta EE 9 repository</a> for this purpose. At the moment I wrote down this post, this maven archetype has been approved to upload to the Maven Central Repository.</p><blockquote><em>The work of this maven archetype project is being ported to Eclipse EE4J Starter, see: </em><a href="https://github.com/eclipse-ee4j/starter/pull/63"><em>eclipse-ee4j/starter#63</em></a><em>.</em></blockquote><h3>Prerequisites</h3><p>Make sure you have installed the following software.</p><ul><li>Java 8</li><li><a href="https://maven.apache.org">Apache Maven 3.6</a></li><li><a href="https://glassfish.org">GlassFish v6.0</a></li></ul><blockquote><em>Java 11 is becoming the mainstream version, but GlassFish v6.0 is still stick on Java 8, Java 11 support is planned in the upcoming v6.1 and Jakarta EE 9.1. I will update it to Java 11 when Jakarta EE 9.1 is released.</em></blockquote><h3>Generate project skeleton</h3><p>Open your terminal, run the following command to generate a Jakarta EE 9 project skeleton.</p><pre>&gt; mvn -B  archetype:generate \<br>-DarchetypeGroupId=io.github.hantsy \<br>-DarchetypeArtifactId=maven-archetype-jakartaee9  \<br>-DarchetypeVersion=1.0  \<br>-DgroupId=com.example \<br>-Dpackage=com.example.demo \<br>-DartifactId=myapp \<br>-Dversion=1.0-SNAPSHOT</pre><p>Currently I only published the released version to Maven Central repository.</p><p>To experience the Github Packages feature, I also deployed the next 1.1-SNAPSHOT version to Github Packages registry. If you want to use the latest version, add the following repositories config in your ~/.m2/settings.xml.</p><pre>&lt;repositories&gt;<br>  &lt;repository&gt;<br>    &lt;id&gt;github-public&lt;/id&gt;<br>    &lt;url&gt;https://public:&amp;#48;28d0c8f723084e499eb87a6fe173b3af295d618@maven.pkg.github.com/hantsy/*&lt;/url&gt;<br>  &lt;/repository&gt;<br>&lt;/repositories&gt;</pre><p>Once the project is generated, switch to the project root.</p><pre>cd mypp</pre><p>Import the source codes into your IDEs, such as NetBeans, IntelliJ IDEA, etc. you will see the following project structure.</p><pre>├── pom.xml<br>└── src<br>    ├── main<br>    │   ├── java<br>    │   │   └── com<br>    │   │       └── example<br>    │   │           └── demo<br>    │   │               ├── GreetingMessage.java<br>    │   │               ├── GreetingResource.java<br>    │   │               ├── GreetingService.java<br>    │   │               └── JaxrsActivator.java<br>    │   └── resources<br>    │       └── META-INF<br>    │           └── beans.xml<br>    └── test<br>        ├── java<br>        │   └── com<br>        │       └── example<br>        │           └── demo<br>        │               ├── GreetingResourceTest.java<br>        │               └── GreetingServiceTest.java<br>        └── resources<br>            └── arquillian.xml</pre><ol><li>The <em>pom.xml</em> is the project Maven model file.</li><li>In the <em>src/main/java</em>, there are 4 classes, GreetingMessage is a simple POJO to present a message string, GreetingResource is a Jakarta REST resource, GreetingService is a simple CDI bean to build GreetingMessage. JaxrsActivator is used for activating the Jakarta REST support.</li><li>In the <em>src/main/resources</em> folder, there is an empty beans.xml, which is the standard configuration file of CDI beans, but became optional since Java EE 7.</li><li>In the <em>src/test/java</em>, there are two test classes, GreetingServiceTest is to test GreetingService, GreetingResourceTest is to test GreetingResource.</li><li>In the <em>src/test/resources</em> folder, there is an arquillian.xml which is the configuration file of Arquillian testing framework.</li></ol><p>You can simply run the application using the following command.</p><pre>&gt; mvn clean package cargo:run<br>[INFO] Scanning for projects...<br>[INFO]<br>[INFO] -------------------------&lt; com.example:myapp &gt;--------------------------<br>[INFO] Building com.example 1.0-SNAPSHOT<br>[INFO] --------------------------------[ war ]---------------------------------<br>[INFO]<br>[INFO] --- maven-clean-plugin:2.5:clean (default-clean) @ myapp ---<br>[INFO] Deleting D:\tmp\myapp\target<br>[INFO]<br>[INFO] --- maven-resources-plugin:2.6:resources (default-resources) @ myapp ---<br>[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.<br>[INFO] Copying 1 resource<br>[INFO]<br>[INFO] --- maven-compiler-plugin:3.8.1:compile (default-compile) @ myapp ---<br>[INFO] Changes detected - recompiling the module!<br>[INFO] Compiling 4 source files to D:\tmp\myapp\target\classes<br>[INFO]<br>[INFO] --- maven-resources-plugin:2.6:testResources (default-testResources) @ myapp ---<br>[INFO] Using &#39;UTF-8&#39; encoding to copy filtered resources.<br>[INFO] Copying 1 resource<br>[INFO]<br>[INFO] --- maven-compiler-plugin:3.8.1:testCompile (default-testCompile) @ myapp ---<br>[INFO] Changes detected - recompiling the module!<br>[INFO] Compiling 2 source files to D:\tmp\myapp\target\test-classes<br>[INFO]<br>[INFO] --- maven-surefire-plugin:2.12.4:test (default-test) @ myapp ---<br>[INFO] Tests are skipped.<br>[INFO]<br>[INFO] --- maven-war-plugin:3.3.1:war (default-war) @ myapp ---<br>[INFO] Packaging webapp<br>[INFO] Assembling webapp [myapp] in [D:\tmp\myapp\target\myapp]<br>[INFO] Processing war project<br>[INFO] Building war: D:\tmp\myapp\target\myapp.war<br>[INFO]<br>[INFO] --- cargo-maven3-plugin:1.9.0:run (default-cli) @ myapp ---<br>[INFO] [en3.ContainerRunMojo] Resolved container artifact org.codehaus.cargo:cargo-core-container-glassfish:jar:1.9.0 for container glassfish6x<br>[INFO] [talledLocalContainer] Parsed GlassFish version = [6.0.0]<br>[INFO] [talledLocalContainer] GlassFish 6.0.0 starting...<br>[INFO] [talledLocalContainer] Using port 4848 for Admin.<br>[INFO] [talledLocalContainer] Using port 8080 for HTTP Instance.<br>[INFO] [talledLocalContainer] Using port 7676 for JMS.<br>[INFO] [talledLocalContainer] Using port 3700 for IIOP.<br>[INFO] [talledLocalContainer] Using port 8181 for HTTP_SSL.<br>[INFO] [talledLocalContainer] Using port 3820 for IIOP_SSL.<br>[INFO] [talledLocalContainer] Using port 3920 for IIOP_MUTUALAUTH.<br>[INFO] [talledLocalContainer] Using port 8686 for JMX_ADMIN.<br>[INFO] [talledLocalContainer] Using port 6666 for OSGI_SHELL.<br>[INFO] [talledLocalContainer] Using port 9009 for JAVA_DEBUGGER.<br>[INFO] [talledLocalContainer] Distinguished Name of the self-signed X.509 Server Certificate is:<br>[INFO] [talledLocalContainer] [CN=hantsy-t540p,OU=GlassFish,O=Eclipse.org Foundation Inc,L=Ottawa,ST=Ontario,C=CA]<br>[INFO] [talledLocalContainer] Distinguished Name of the self-signed X.509 Server Certificate is:<br>[INFO] [talledLocalContainer] [CN=hantsy-t540p-instance,OU=GlassFish,O=Eclipse.org Foundation Inc,L=Ottawa,ST=Ontario,C=CA]<br>[INFO] [talledLocalContainer] Domain cargo-domain created.<br>[INFO] [talledLocalContainer] Domain cargo-domain admin port is 4848.<br>[INFO] [talledLocalContainer] Domain cargo-domain allows admin login as user &quot;admin&quot; with no password.<br>[INFO] [talledLocalContainer] Command create-domain executed successfully.<br>[INFO] [talledLocalContainer] Attempting to start cargo-domain.... Please look at the server log for more details.....<br>[INFO] [talledLocalContainer] Command delete-jdbc-resource failed.<br>[INFO] [talledLocalContainer] remote failure: The jdbc resource [ jdbc/__default ] cannot be deleted as it is required to be configured in the system.<br>[INFO] [talledLocalContainer] JDBC Connection pool DerbyPool deleted successfully<br>[INFO] [talledLocalContainer] Command delete-jdbc-connection-pool executed successfully.<br>[INFO] [talledLocalContainer] Application deployed with name myapp.<br>[INFO] [talledLocalContainer] Command deploy executed successfully.<br>[INFO] [talledLocalContainer] Application deployed with name cargocpc.<br>[INFO] [talledLocalContainer] Command deploy executed successfully.<br>[INFO] [talledLocalContainer] GlassFish 6.0.0 started on port [8080]<br>[INFO] Press Ctrl-C to stop the container...</pre><p>This command performs a series of tasks for you.</p><ol><li>Firstly it cleans and builds the project into a war package.</li><li>Then use cargo maven plugin to download a copy of Glassfish v6.0, and extract the files in the project build folder.</li><li>Then create a new cargo-dommain for this project and start it immediately.</li><li>After the Glassfish is running, then deploy the packaged application to the Glassfish.</li></ol><blockquote><em>You can check the </em>server.log<em> file in </em>myqpp/target/glassfish6x-home/cargo-domain/logs<em> to view the details of server startup and application deployment.</em></blockquote><p>Open another terminal window, try to test the sample REST API endpoint.</p><pre>&gt; curl <a href="http://localhost:8080/myapp/api/greeting/JakartaEE">http://localhost:8080/myapp/api/greeting/JakartaEE</a><br>{&quot;message&quot;:&quot;Say Hello to JakartaEE at 2021-03-31T16:32:39.216&quot;}</pre><p>Compare to my <a href="https://github.com/hantsy/jakartaee9-starter-boilerplate">jakartaee 9 starter template project</a>, the maven archetype provides a quicker approach to experience the Jakarta EE 9 stack.</p><p>To stop the running application, send a CTRL+C shortcut in the original terminal.</p><pre>[INFO] Press Ctrl-C to stop the container...<br>[INFO] [talledLocalContainer] GlassFish 6.0.0 is stopping...<br>[INFO] ------------------------------------------------------------------------<br>[INFO] BUILD SUCCESS<br>[INFO] ------------------------------------------------------------------------<br>[INFO] Total time:  18:46 min<br>[INFO] Finished at: 2021-03-31T16:43:34+08:00<br>[INFO] ------------------------------------------------------------------------<br>[INFO] [talledLocalContainer] Waiting for the domain to stop .<br>[INFO] [talledLocalContainer] Command stop-domain executed successfully.<br>[INFO] [talledLocalContainer] GlassFish 6.0.0 is stopped<br>Terminate batch job (Y/N)? y</pre><h3>Run Sample Tests</h3><p>The generated project includes two simple JUnit/Arquilian test classes to demonstrate techniques of testing CDI bean and REST API.</p><p>To run the sample testing codes.</p><ol><li>Firstly make sure there is a running Glassfish server, check <a href="https://github.com/hantsy/jakartaee9-starter-boilerplate/blob/master/docs/arq-glassfish.md">Testing Jakarta EE 9 Applications with GalssFish 6</a>.</li><li>Then run the following command.</li></ol><ul><li>mvn clean verify -DskipTests=false</li></ul><p>Next you can begin to add your codes to enrich the application.</p><img src="https://medium.com/_/stat?event=post.clientViewed&referrerSource=full_rss&postId=2b9fc9ce9bb8" width="1" height="1" alt=""><hr><p><a href="https://itnext.io/generate-a-jakarta-ee-9-project-skeleton-from-maven-archetype-2b9fc9ce9bb8">Generate a Jakarta EE 9 project skeleton from Maven archetype</a> was originally published in <a href="https://itnext.io">ITNEXT</a> on Medium, where people are continuing the conversation by highlighting and responding to this story.</p>
